<?xml version="1.1" encoding="UTF-8" ?>
<!-- ==========================================================================\
|
|   To learn how to make your own language parser, please check the following
|   link:
|       https://npp-user-manual.org/docs/function-list/
|
\=========================================================================== -->
<NotepadPlus>
	<functionList>
		<!-- ========================================================= [ PL/SQL ] -->
		<parser id="plsql_function" displayName="PL/SQL" commentExpr="((\/\*([^\*]|\*[^\/])*\*\/)|(--.*?$))">
			<function
				mainExpr="(?isx)^[ \t]*(CREATE([\s]+OR[\s]+REPLACE)?[\s]+)?                   # Declaration beginning
						((NON)?EDITIONABLE\s+)?                                                 # Optional editionable clause
						((PACKAGE([\s]+BODY)?)|(PROCEDURE)|(FUNCTION))                          # Object type
						(([\s]+[A-Z]\w*)|(\s*\x22[^\x22]+\x22)\.([A-Z]\w*|\x22[^\x22]+\x22\s*)  # Object name in form SCHEMA.OBJECT
						 |(\s+[A-Z]\w*|\s*\x22[^\x22]+\x22\s*))                                 # Object name alone (session schema default)
						(\s+|\s*\([^\)]*\)\s*)                                                  # Parameters
						(SHARING\s*=\s*(METADATA|NONE)\s+)?                                     # Optional sharing parameter
						((AUTHID\s+(CURRENT_USER|DEFINER)\s+)|(ACCESSIBLE\s+BY\s*\([^\)]+\)\s*)|(DEFAULT\s+COLLATION\s+\w+\s+))* # Other optional procedure clauses
						(RETURN((\s+[A-Z][\w\.]*)|\s*\x22[^\x22]\x22[\w\.]*)(%TYPE)?\s+)?       # Return datatype for functions
						(IS|AS|;)\s"
				displayMode="$className->$functionName"
			>
				<className>
					<nameExpr expr="(?isx)PACKAGE([\s]+BODY)?                                                 # Object type
										(([\s]+[A-Z]\w*\s+)|(\s*\x22[^\x22]+\x22)\.([A-Z]\w*|\x22[^\x22]+\x22\s*)  # Object name in form SCHEMA.OBJECT
										 |(\s+[A-Z]\w*|\s*\x22[^\x22]+\x22\s*))                                    # Object name alone (session schema default)
										(SHARING\s*=\s*(METADATA|NONE)\s+)?                                        # Optional sharing parameter
										(IS|AS)\s"/>
				</className>
				<functionName>
					<nameExpr expr="(?isx)(([\s]+[A-Z]\w*)|(\s*\x22[^\x22]+\x22)\.([A-Z]\w*|\x22[^\x22]+\x22\s*)    # Object name in form SCHEMA.OBJECT
										 |(\s+[A-Z]\w*|\s*\x22[^\x22]+\x22\s*))                                          # Object name alone (session schema default)
										(\s+|\s*\([^\)]*\)\s*)                                                           # Parameters
										(SHARING\s*=\s*(METADATA|NONE)\s+)?                                              # Optional sharing parameter
										((AUTHID\s+(CURRENT_USER|DEFINER)\s+)|(ACCESSIBLE\s+BY\s*\([^\)]+\)\s*)|(DEFAULT\s+COLLATION\s+\w+\s+))* # Other optional procedure clauses
										(RETURN((\s+[A-Z][\w\.]*)|\s*\x22[^\x22]\x22[\w\.]*)(%TYPE)?\s+)?                # Return datatype for functions
										(IS\s|AS\s|;)"/>
				</functionName>
			</function>
		</parser>
	</functionList>
</NotepadPlus>
